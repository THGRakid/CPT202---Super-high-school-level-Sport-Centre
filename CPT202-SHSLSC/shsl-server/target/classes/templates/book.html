<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sports Reservation</title>
    <script src="https://code.jquery.com/jquery-3.3.1.min.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css">
    <link rel="stylesheet" href="/static/css/book_style.css">
    <link rel="stylesheet" href="/static/css/style9.css">


</head>

<body>
<header>
    <div class="logo">
        <img src="/static/img/logo.jpg" alt="rhythm logo">
    </div>
    <nav>
        <ul>
            <li><a th:href="@{/homepage/show}">Home</a></li>
            <li><a th:href="@{/bookPage/show}">Book</a></li>
            <li><a href="#">Event</a></li>
            <li><a href="#">Lesson</a></li>
            <li><a href="#">About us</a></li>
            <li><a href="#">Contact</a></li>
            <div class="register-link">
                <a th:href="@{/user/personalHomepage}">My Account</a>
            </div>
            <li><img src="/static/img/Personal_avatar.jpg" alt="User Avatar" class="avatar"></li>
        </ul>
        <form action="/search" method="GET">
            <input type="text" name="query" placeholder="Please write down">
            <button type="submit"><i class="fas fa-search search-icon"></i></button>
        </form>
    </nav>
</header>


<div class="button-container">
    <button class="sport-button" onclick="showTableById('2')"><i class="fas fa-badminton"></i> Badminton</button>
    <button class="sport-button" onclick="showTableById('1')"><i class="fas fa-badminton"></i> Table Tennis</button>
    <button class="sport-button" onclick="showTableById('3')"><i class="fas fa-badminton"></i> Fitness room</button>
    <button class="sport-button" onclick="showTableById('4')"><i class="fas fa-badminton"></i> Swimming</button>
    <button class="sport-button" id="basketball"><i class="fas fa-basketball-ball"></i> Basketball</button>
    <button class="sport-button" id="football"><i class="fas fa-futbol"></i> Football</button>
    <button class="sport-button" id="martial"><i class="fas fa-fist-raised"></i> Martial Art</button>
    <button class="sport-button" id="billiard"><i class="fas fa-bowling-ball"></i> Billiard</button>
    <button class="sport-button" id="golf"><i class="fas fa-golf-ball"></i> Golf</button>
    <button class="sport-button" id="squash"><i class="fas fa-cube"></i> Squash</button>
    <button class="sport-button" id="more"><i class="fas fa-ellipsis-h"></i> More</button>

</div>

<div id="stadiumCardContainer"></div>

<div id="timeSelection" class="hidden form-group">
    <label for="time">Select time:</label>
    <div id="timeBox" class="time-box"></div>
</div>
<div id="venueInfo" class="hidden">
    <!--场地信息会生成--><!--不知道能不能用-->
</div>

<!-- 弹窗 -->
<div id="reservationModal" class="modal hidden">
    <div class="modal-content">
        <span class="close">&times;</span>
        <p>Are you sure you want to reserve this Place?</p >
        <button id="confirmReservation">Yes</button>
        <button id="cancelReservation">No</button>
    </div>
</div>

<script>
    function showStadium(data) {
        // 假设data是包含所有必要信息的对象
        // 创建一个卡片HTML字符串
        let cardHTML = `
            <div class="container">
                <div class="card">
                    <div class="box">
                        <div class="img_box">
                            <video
                                src="/static/assets/video.mp4"
                                muted
                                loop
                                autoplay
                            />
                        </div>
                    </div>

                    <div class="box">
                        <div class="content">
                            <h2>${data.dstaName}
                                <br><span>${data.location}</span>
                            </h2>

                            <ul>
                                <li>Limit<span>${data.limit}</span></li>
                                <li>Price<span>${data.price}</span></li>
                                <li>Placer<span>${data.placeNumber}</span></li>
                            </ul>

                            <button onclick="viewPlaces('${data.limit}')">View Places</button>
                        </div>
                    </div>

                    <div class="circle">
                        <div class="img_box">
                            <img src="${data.staPicture}" alt="Stadium Image">
                        </div>
                    </div>
                </div>
            </div>
        `;

        // 清空之前的卡片里内容（如果有的话）
        document.getElementById('stadiumCardContainer').innerHTML = '';

        // 将新的卡片HTML添加到容器中
        document.getElementById('stadiumCardContainer').innerHTML += cardHTML;
    }
    function showTableById(id) {

        $.ajax({
            type: "GET",
            dataType: "json",
            url: '/stadium/show/' + id,
            success: function (result) {
                console.log("data is :" + result.data)
                if (result.code === 1) {
                    showStadium(result.data);
                } else {
                    alert(result.msg)
                }
            }
        });

    }

    function showTable() {
        document.getElementById('tbl_place').style.display = 'block';

    }
</script>
<script src="/static/js/changecolor.js"></script>
<script src="/static/js/time.js"></script>

</body>
</html>


